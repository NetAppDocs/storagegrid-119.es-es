---
permalink: troubleshoot/troubleshooting-metadata-issues.html 
sidebar: sidebar 
keywords: how to troubleshoot metadata issues 
summary: Si ocurren problemas con los metadatos, las alertas le informarán el origen de los problemas y las acciones recomendadas a tomar.  En particular, debe agregar nuevos nodos de almacenamiento si se activa la alerta de almacenamiento de metadatos bajo. 
---
= Solucionar problemas de metadatos
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Si ocurren problemas con los metadatos, las alertas le informarán el origen de los problemas y las acciones recomendadas a tomar.  En particular, debe agregar nuevos nodos de almacenamiento si se activa la alerta de almacenamiento de metadatos bajo.

.Antes de empezar
Ha iniciado sesión en Grid Manager mediante unlink:../admin/web-browser-requirements.html["navegador web compatible"] .

.Acerca de esta tarea
Siga las acciones recomendadas para cada alerta relacionada con metadatos que se active.  Si se activa la alerta *Almacenamiento de metadatos bajo*, debe agregar nuevos nodos de almacenamiento.

StorageGRID reserva una cierta cantidad de espacio en el volumen 0 de cada nodo de almacenamiento para los metadatos de los objetos.  Este espacio, conocido como _espacio reservado real_, se subdivide en el espacio permitido para los metadatos de los objetos (el espacio de metadatos permitido) y el espacio requerido para las operaciones esenciales de la base de datos, como la compactación y la reparación.  El espacio de metadatos permitido determina la capacidad general del objeto.

image::../media/metadata_allowed_space_volume_0.png[Metadatos Espacio permitido Volumen 0]

Si los metadatos de un objeto consumen más del 100% del espacio permitido para los metadatos, las operaciones de la base de datos no podrán ejecutarse de manera eficiente y se producirán errores.

Puedelink:../monitor/monitoring-storage-capacity.html#monitor-object-metadata-capacity-for-each-storage-node["Supervisar la capacidad de metadatos de objetos para cada nodo de almacenamiento"] para ayudarle a anticipar errores y corregirlos antes de que ocurran.

StorageGRID utiliza la siguiente métrica de Prometheus para medir qué tan lleno está el espacio de metadatos permitido:

[listing]
----
storagegrid_storage_utilization_metadata_bytes/storagegrid_storage_utilization_metadata_allowed_bytes
----
Cuando esta expresión de Prometheus alcanza ciertos umbrales, se activa la alerta *Almacenamiento de metadatos bajo*.

* *Menor*: Los metadatos del objeto utilizan el 70 % o más del espacio de metadatos permitido.  Debe agregar nuevos nodos de almacenamiento lo antes posible.
* *Importante*: Los metadatos del objeto están utilizando el 90 % o más del espacio de metadatos permitido.  Debe agregar nuevos nodos de almacenamiento inmediatamente.
+

CAUTION: Cuando los metadatos de un objeto utilizan el 90 % o más del espacio de metadatos permitido, aparece una advertencia en el panel.  Si aparece esta advertencia, debe agregar nuevos nodos de almacenamiento inmediatamente.  Nunca debe permitir que los metadatos de un objeto utilicen más del 100% del espacio permitido.

* *Crítico*: Los metadatos del objeto están utilizando el 100 % o más del espacio de metadatos permitido y están comenzando a consumir el espacio necesario para las operaciones esenciales de la base de datos.  Debe detener la ingesta de nuevos objetos y debe agregar nuevos nodos de almacenamiento inmediatamente.



CAUTION: Si el tamaño del volumen 0 es menor que la opción de almacenamiento de Espacio reservado de metadatos (por ejemplo, en un entorno que no es de producción), el cálculo para la alerta *Almacenamiento de metadatos bajo* podría ser inexacto.

.Pasos
. Seleccione *ALERTAS* > *Actual*.
. Desde la tabla de alertas, expanda el grupo de alerta *Almacenamiento de metadatos bajo*, si es necesario, y seleccione la alerta específica que desea ver.
. Revise los detalles en el cuadro de diálogo de alerta.
. Si se ha activado una alerta importante o crítica de *Almacenamiento de metadatos bajo*, realice una expansión para agregar nodos de almacenamiento inmediatamente.
+

NOTE: Debido a que StorageGRID mantiene copias completas de todos los metadatos de los objetos en cada sitio, la capacidad de metadatos de toda la red está limitada por la capacidad de metadatos del sitio más pequeño.  Si necesita agregar capacidad de metadatos a un sitio, también debelink:../expand/adding-grid-nodes-to-existing-site-or-adding-new-site.html["ampliar cualquier otro sitio"] por el mismo número de nodos de almacenamiento.

+
Después de realizar la expansión, StorageGRID redistribuye los metadatos de los objetos existentes a los nuevos nodos, lo que aumenta la capacidad general de metadatos de la red.  No se requiere ninguna acción del usuario.  Se borra la alerta *Almacenamiento de metadatos bajo*.


