---
permalink: expand/adding-metadata-capacity.html 
sidebar: sidebar 
keywords: metadata capacity, add, adding, expand, expansion, guidelines, Storage Nodes, metadata storage 
summary: Para garantizar que haya suficiente espacio disponible para los metadatos de los objetos, es posible que deba realizar un procedimiento de expansión para agregar nuevos nodos de almacenamiento en cada sitio. 
---
= Añadir capacidad de metadatos
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Para garantizar que haya suficiente espacio disponible para los metadatos de los objetos, es posible que deba realizar un procedimiento de expansión para agregar nuevos nodos de almacenamiento en cada sitio.

StorageGRID reserva espacio para metadatos de objetos en el volumen 0 de cada nodo de almacenamiento.  Se mantienen tres copias de todos los metadatos de los objetos en cada sitio, distribuidas uniformemente entre todos los nodos de almacenamiento.

Puede utilizar el Administrador de cuadrícula para supervisar la capacidad de metadatos de los nodos de almacenamiento y para estimar la velocidad con la que se consume dicha capacidad de metadatos.  Además, la alerta *Almacenamiento de metadatos bajo* se activa para un nodo de almacenamiento cuando el espacio de metadatos utilizado alcanza ciertos umbrales.

Tenga en cuenta que la capacidad de metadatos de objetos de una cuadrícula puede consumirse más rápido que su capacidad de almacenamiento de objetos, dependiendo de cómo utilice la cuadrícula.  Por ejemplo, si normalmente ingiere grandes cantidades de objetos pequeños o agrega grandes cantidades de metadatos de usuario o etiquetas a los objetos, es posible que necesite agregar nodos de almacenamiento para aumentar la capacidad de metadatos incluso aunque todavía quede suficiente capacidad de almacenamiento de objetos.

Para obtener más información, consulte lo siguiente:

* link:../admin/managing-object-metadata-storage.html["Administrar el almacenamiento de metadatos de objetos"]
* link:../monitor/monitoring-storage-capacity.html#monitor-object-metadata-capacity-for-each-storage-node["Supervisar la capacidad de metadatos de objetos para cada nodo de almacenamiento"]




== Directrices para aumentar la capacidad de metadatos

Antes de agregar nodos de almacenamiento para aumentar la capacidad de metadatos, revise las siguientes pautas y limitaciones:

* Suponiendo que hay suficiente capacidad de almacenamiento de objetos disponible, tener más espacio disponible para metadatos de objetos aumenta la cantidad de objetos que puede almacenar en su sistema StorageGRID .
* Puede aumentar la capacidad de metadatos de una red agregando uno o más nodos de almacenamiento a cada sitio.
* El espacio real reservado para los metadatos de objetos en cualquier nodo de almacenamiento determinado depende de la opción de almacenamiento Espacio reservado para metadatos (configuración de todo el sistema), la cantidad de RAM asignada al nodo y el tamaño del volumen del nodo 0.
* No es posible aumentar la capacidad de metadatos agregando volúmenes de almacenamiento a los nodos de almacenamiento existentes, porque los metadatos se almacenan solo en el volumen 0.
* No es posible aumentar la capacidad de metadatos agregando un nuevo sitio.
* StorageGRID mantiene tres copias de todos los metadatos de los objetos en cada sitio.  Por este motivo, la capacidad de metadatos de su sistema está limitada por la capacidad de metadatos de su sitio más pequeño.
* Al agregar capacidad de metadatos, debe agregar la misma cantidad de nodos de almacenamiento a cada sitio.


Los nodos de almacenamiento de solo metadatos tienen requisitos de hardware específicos:

* Al utilizar dispositivos StorageGRID , los nodos de solo metadatos se pueden configurar únicamente en dispositivos SGF6112 con doce unidades de 1,9 TB o doce unidades de 3,8 TB.
* Al utilizar nodos basados en software, los recursos de nodo de solo metadatos deben coincidir con los recursos de los nodos de almacenamiento existentes. Por ejemplo:
+
** Si el sitio StorageGRID existente utiliza dispositivos SG6000 o SG6100, los nodos de solo metadatos basados ​​en software deben cumplir los siguientes requisitos mínimos:
+
*** 128 GB de RAM
*** CPU de 8 núcleos
*** SSD de 8 TB o almacenamiento equivalente para la base de datos Cassandra (rangedb/0)


** Si el sitio StorageGRID existente usa nodos de almacenamiento virtuales con 24 GB de RAM, CPU de 8 núcleos y 3 TB o 4 TB de almacenamiento de metadatos, los nodos solo de metadatos basados ​​en software deben usar recursos similares (24 GB de RAM, CPU de 8 núcleos y 4 TB de almacenamiento de metadatos (rangedb/0).


* Al agregar un nuevo sitio StorageGRID , la capacidad total de metadatos del nuevo sitio debe coincidir, como mínimo, con los sitios StorageGRID existentes y los recursos del nuevo sitio deben coincidir con los nodos de almacenamiento de los sitios StorageGRID existentes.


Ver ellink:../admin/managing-object-metadata-storage.html["Descripción de qué es el Espacio Reservado de Metadatos"] .



== Cómo se redistribuyen los metadatos al agregar nodos de almacenamiento

Cuando agrega nodos de almacenamiento en una expansión, StorageGRID redistribuye los metadatos de los objetos existentes a los nuevos nodos en cada sitio, lo que aumenta la capacidad general de metadatos de la red.  No se requiere ninguna acción del usuario.

La siguiente figura muestra cómo StorageGRID redistribuye los metadatos de los objetos cuando se agregan nodos de almacenamiento en una expansión.  El lado izquierdo de la figura representa el volumen 0 de tres nodos de almacenamiento antes de una expansión.  Los metadatos están consumiendo una porción relativamente grande del espacio de metadatos disponible de cada nodo, y se ha activado la alerta *Almacenamiento de metadatos bajo*.

El lado derecho de la figura muestra cómo se redistribuyen los metadatos existentes después de que se agregan dos nodos de almacenamiento al sitio.  La cantidad de metadatos en cada nodo ha disminuido, la alerta *Almacenamiento de metadatos bajo* ya no se activa y el espacio disponible para metadatos ha aumentado.

image::../media/metadata_space_after_expansion.png[Diagrama de metadatos redistribuidos después de agregar dos nodos de almacenamiento]
